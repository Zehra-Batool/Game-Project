/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/app.ts":
/*!********************!*\
  !*** ./src/app.ts ***!
  \********************/
/***/ (() => {

eval("\nlet board;\nlet score = 0;\nlet rows = 4;\nlet columns = 4;\nwindow.onload = function () {\n    setGame();\n};\nfunction setGame() {\n    board = [\n        [0, 0, 0, 0],\n        [0, 0, 0, 0],\n        [0, 0, 0, 0],\n        [0, 0, 0, 0]\n    ];\n    for (let r = 0; r < rows; r++) {\n        for (let c = 0; c < columns; c++) {\n            let tile = document.createElement('div');\n            tile.id = r.toString() + \"-\" + c.toString();\n            let num = board[r][c];\n            updateTile(tile, num);\n            document.getElementById(\"board\").append(tile);\n        }\n    }\n    setTwo();\n    setTwo();\n}\nfunction hasEmptyTile() {\n    for (let r = 0; r < rows; r++) {\n        for (let c = 0; c < columns; c++) {\n            if (board[r][c] == 0) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nfunction setTwo() {\n    if (!hasEmptyTile()) {\n        return;\n    }\n    let found = false;\n    while (!found) {\n        let r = Math.floor(Math.random() * rows);\n        let c = Math.floor(Math.random() * columns);\n        if (board[r][c] == 0) {\n            board[r][c] = 2;\n            let tile = document.getElementById(r.toString() + \"-\" + c.toString());\n            tile.innerText = \"2\";\n            tile.classList.add(\"x2\");\n            found = true;\n        }\n    }\n}\nfunction updateTile(tile, num) {\n    tile.innerText = \"\";\n    tile.classList.value = \"\";\n    tile.classList.add(\"tile\");\n    if (num > 0) {\n        tile.innerText = num;\n        if (num <= 4096) {\n            tile.classList.add(\"x\" + num.toString());\n        }\n        else {\n            tile.classList.add(\"x8192\");\n        }\n    }\n}\ndocument.addEventListener(\"keyup\", (e) => {\n    if (e.code == \"ArrowLeft\") {\n        slideLeft();\n        setTwo();\n    }\n    else if (e.code == \"ArrowRight\") {\n        slideRight();\n        setTwo();\n    }\n    else if (e.code == \"ArrowUp\") {\n        slideUp();\n        setTwo();\n    }\n    else if (e.code == \"ArrowDown\") {\n        slideDown();\n        setTwo();\n    }\n    document.getElementById(\"score\").innerText = score.toString();\n});\nfunction filterZero(row) {\n    return row.filter((num) => num != 0);\n}\nfunction slide(row) {\n    // [0,2,2,2]\n    row = filterZero(row); //[2,2,2]\n    //slide\n    for (let i = 0; i < row.length - 1; i++) {\n        //check every 2\n        if (row[i] == row[i + 1]) {\n            row[i] *= 2;\n            row[i + 1] = 0;\n            score += row[i];\n        }\n    }\n    row = filterZero(row); //[4,2]\n    //add zero like [4,2,0,0]\n    while (row.length < columns) {\n        row.push(0);\n    }\n    return row;\n}\nfunction slideLeft() {\n    for (let r = 0; r < rows; r++) {\n        let row = board[r];\n        row = slide(row);\n        board[r] = row;\n        for (let c = 0; c < columns; c++) {\n            let tile = document.getElementById(r.toString() + \"-\" + c.toString());\n            let num = board[r][c];\n            if (tile !== null) {\n                updateTile(tile, num);\n            }\n        }\n    }\n}\nfunction slideRight() {\n    for (let r = 0; r < rows; r++) {\n        let row = board[r];\n        row.reverse();\n        row = slide(row);\n        row.reverse();\n        board[r] = row;\n        for (let c = 0; c < columns; c++) {\n            let tile = document.getElementById(r.toString() + \"-\" + c.toString());\n            let num = board[r][c];\n            if (tile !== null) {\n                updateTile(tile, num);\n            }\n        }\n    }\n}\nfunction slideUp() {\n    for (let c = 0; c < columns; c++) {\n        let row = [board[0][c], board[1][c], board[2][c], board[3][c]];\n        row = slide(row);\n        board[0][c] = row[0];\n        board[1][c] = row[1];\n        board[2][c] = row[2];\n        board[3][c] = row[3];\n        for (let r = 0; r < rows; r++) {\n            let tile = document.getElementById(r.toString() + \"-\" + c.toString());\n            let num = board[r][c];\n            if (tile !== null) {\n                updateTile(tile, num);\n            }\n        }\n    }\n}\nfunction slideDown() {\n    for (let c = 0; c < columns; c++) {\n        let row = [board[0][c], board[1][c], board[2][c], board[3][c]];\n        row.reverse();\n        row = slide(row);\n        row.reverse();\n        board[0][c] = row[0];\n        board[1][c] = row[1];\n        board[2][c] = row[2];\n        board[3][c] = row[3];\n        for (let r = 0; r < rows; r++) {\n            let tile = document.getElementById(r.toString() + \"-\" + c.toString());\n            let num = board[r][c];\n            if (tile !== null) {\n                updateTile(tile, num);\n            }\n        }\n    }\n}\n///reset \nfunction resetGame() {\n    // Reset the board, score, and update the UI\n    board = Array.from({ length: rows }, () => Array(columns).fill(0));\n    score = 0;\n    for (let r = 0; r < rows; r++) {\n        for (let c = 0; c < columns; c++) {\n            let tile = document.getElementById(r.toString() + \"-\" + c.toString());\n            updateTile(tile, 0);\n        }\n    }\n    // Add new tiles to the board\n    setTwo();\n    setTwo();\n    // Update the score display\n    document.getElementById(\"score\").innerText = score.toString();\n}\nconst resetButton = document.getElementById(\"repeat\");\nresetButton.addEventListener(\"click\", resetGame);\nfunction hide() {\n    const popup = document.getElementById('popup');\n    if (popup) {\n        popup.classList.add('hidden');\n    }\n}\nfunction show() {\n    const popup = document.getElementById('popup');\n    if (popup) {\n        popup.classList.remove('hidden');\n    }\n}\nconst crossButton = document.getElementById('cross');\ncrossButton.addEventListener('click', hide);\nconst iBtn = document.getElementById('info');\niBtn.addEventListener('click', show);\n//win loose \nfunction isWin() {\n    for (const row of board) {\n        for (const tile of row) {\n            if (tile === 2048) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nfunction isLoss() {\n    // Check if there are any empty tiles\n    if (hasEmptyTile()) {\n        return false;\n    }\n    // Check for adjacent matching tiles in rows\n    for (let r = 0; r < rows; r++) {\n        for (let c = 0; c < columns - 1; c++) {\n            if (board[r][c] === board[r][c + 1]) {\n                return false;\n            }\n        }\n    }\n    // Check for adjacent matching tiles in columns\n    for (let c = 0; c < columns; c++) {\n        for (let r = 0; r < rows - 1; r++) {\n            if (board[r][c] === board[r + 1][c]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\ndocument.addEventListener(\"keyup\", (e) => {\n    if (e.code == \"ArrowLeft\") {\n        slideLeft();\n        setTwo();\n        checkWinLoss();\n    }\n    else if (e.code == \"ArrowRight\") {\n        slideRight();\n        setTwo();\n        checkWinLoss();\n    }\n    else if (e.code == \"ArrowUp\") {\n        slideUp();\n        setTwo();\n        checkWinLoss();\n    }\n    else if (e.code == \"ArrowDown\") {\n        slideDown();\n        setTwo();\n        checkWinLoss();\n    }\n    document.getElementById(\"score\").innerText = score.toString();\n});\nfunction checkWinLoss() {\n    if (isWin()) {\n        console.log(\"Congratulations! You've won!\");\n        const pop = document.getElementById(\"popup-for-win\");\n        pop.addEventListener('click', function () {\n            pop.classList.remove(\"hidden\");\n        });\n    }\n    if (isLoss()) {\n        alert(\"Game over! You've lost.\");\n        const loose = document.getElementById(\"popup-for-loose\");\n        loose.addEventListener('click', function () {\n            loose.classList.remove(\"hidden\");\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxDQUFDLENBQUM7QUFFSCxTQUFTLFlBQVk7SUFDakIsSUFBSSxLQUFLLEVBQUUsRUFBRTtRQUNULE9BQU8sQ0FBQyxHQUFHLENBQUMsOEJBQThCLENBQUMsQ0FBQztRQUM1QyxNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQztRQUNwRCxHQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFDO1lBQ3RDLEdBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUN2QixDQUFDLENBQUM7S0FFTDtJQUVELElBQUksTUFBTSxFQUFFLEVBQUU7UUFDVixLQUFLLENBQUMseUJBQXlCLENBQUMsQ0FBQztRQUNqQyxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGlCQUFpQixDQUFDO1FBQ3hELEtBQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUM7WUFDNUIsS0FBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO1FBQ3pCLENBQUMsQ0FBQztLQUNqQjtBQUNMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8yMDQ4LWdhbWUvLi9zcmMvYXBwLnRzPzA2NmUiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmxldCBib2FyZDpudW1iZXJbXVtdO1xyXG5sZXQgc2NvcmUgPSAwO1xyXG5sZXQgcm93cyA9IDQ7XHJcbmxldCBjb2x1bW5zID0gNFxyXG5cclxuXHJcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKXtcclxuICAgIHNldEdhbWUoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0R2FtZSgpe1xyXG5ib2FyZCA9IFtcclxuICAgIFswLCAwLCAwLCAwXSxcclxuICAgIFswLCAwLCAwLCAwXSxcclxuICAgIFswLCAwLCAwLCAwXSxcclxuICAgIFswLCAwLCAwLCAwXVxyXG5dXHJcblxyXG5mb3IgKGxldCByID0gMDsgciA8IHJvd3M7IHIrKykge1xyXG4gICAgZm9yIChsZXQgYyA9IDA7IGMgPCBjb2x1bW5zOyBjKyspIHtcclxuXHJcbiAgICAgICAgbGV0IHRpbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgIHRpbGUuaWQgPSByLnRvU3RyaW5nKCkgKyBcIi1cIisgYy50b1N0cmluZygpO1xyXG4gICAgICAgIGxldCBudW06YW55ID0gYm9hcmRbcl1bY11cclxuICAgICAgICB1cGRhdGVUaWxlKHRpbGUsbnVtKVxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9hcmRcIikhLmFwcGVuZCh0aWxlKTtcclxuICAgIH0gICAgXHJcbn1cclxuXHJcbnNldFR3bygpXHJcbnNldFR3bygpXHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaGFzRW1wdHlUaWxlKCl7XHJcbiAgICBmb3IgKGxldCByID0gMDsgciA8IHJvd3M7IHIrKykge1xyXG4gICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgY29sdW1uczsgYysrKSB7XHJcbiAgICAgICAgICAgIGlmIChib2FyZFtyXVtjXSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzZXRUd28oKXtcclxuXHJcbmlmICghaGFzRW1wdHlUaWxlKCkpIHtcclxuICAgIHJldHVyblxyXG59XHJcblxyXG4gICAgbGV0IGZvdW5kID0gZmFsc2VcclxuICAgIHdoaWxlICghZm91bmQpe1xyXG4gICAgICAgIGxldCByID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKiByb3dzKVxyXG4gICAgICAgIGxldCBjID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKiBjb2x1bW5zKVxyXG5cclxuICAgICAgICBpZihib2FyZFtyXVtjXSA9PSAwICl7XHJcbiAgICAgICAgICAgIGJvYXJkW3JdW2NdID0gMlxyXG4gICAgICAgICAgICBsZXQgdGlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHIudG9TdHJpbmcoKSArIFwiLVwiICsgYy50b1N0cmluZygpKSBcclxuICAgICAgICAgICAgdGlsZSEuaW5uZXJUZXh0ID0gXCIyXCJcclxuICAgICAgICAgICAgdGlsZSEuY2xhc3NMaXN0LmFkZChcIngyXCIpXHJcbiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gdXBkYXRlVGlsZSh0aWxlOkhUTUxEaXZFbGVtZW50LG51bTphbnkpe1xyXG4gICAgdGlsZS5pbm5lclRleHQgPSBcIlwiO1xyXG4gICAgdGlsZS5jbGFzc0xpc3QudmFsdWUgPSBcIlwiO1xyXG4gICAgdGlsZS5jbGFzc0xpc3QuYWRkKFwidGlsZVwiKTtcclxuICAgIGlmIChudW0gPiAwICkge1xyXG4gICAgICAgIHRpbGUuaW5uZXJUZXh0ID0gbnVtO1xyXG4gICAgICAgIGlmIChudW0gPD0gNDA5Nikge1xyXG4gICAgICAgICAgICB0aWxlLmNsYXNzTGlzdC5hZGQoXCJ4XCIrIG51bS50b1N0cmluZygpKVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aWxlLmNsYXNzTGlzdC5hZGQoXCJ4ODE5MlwiKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIChlKT0+IHtcclxuICAgIGlmIChlLmNvZGUgPT0gXCJBcnJvd0xlZnRcIikge1xyXG4gICAgICAgIHNsaWRlTGVmdCgpXHJcbiAgICAgICAgXHJcbiAgICAgICAgc2V0VHdvKClcclxuXHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChlLmNvZGUgPT0gXCJBcnJvd1JpZ2h0XCIpIHtcclxuICAgICAgICBzbGlkZVJpZ2h0KClcclxuICAgICAgICBzZXRUd28oKVxyXG5cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGUuY29kZSA9PSBcIkFycm93VXBcIikge1xyXG4gICAgICAgIHNsaWRlVXAoKVxyXG4gICAgICAgIHNldFR3bygpXHJcblxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZS5jb2RlID09IFwiQXJyb3dEb3duXCIpIHtcclxuICAgICAgICBzbGlkZURvd24oKVxyXG4gICAgICAgIHNldFR3bygpXHJcbiAgICB9XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjb3JlXCIpIS5pbm5lclRleHQgPSBzY29yZS50b1N0cmluZygpIFxyXG59KVxyXG5cclxuXHJcbmZ1bmN0aW9uIGZpbHRlclplcm8ocm93OmFueSl7XHJcbiAgICByZXR1cm4gcm93LmZpbHRlcigobnVtOm51bWJlcikgPT4gbnVtICE9IDAgKVxyXG59XHJcblxyXG5mdW5jdGlvbiBzbGlkZShyb3c6YW55KXtcclxuICAgIC8vIFswLDIsMiwyXVxyXG4gICAgcm93ID0gZmlsdGVyWmVybyhyb3cpLy9bMiwyLDJdXHJcblxyXG4gICAgLy9zbGlkZVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3cubGVuZ3RoLTE7IGkrKykge1xyXG4gICAgICAgLy9jaGVjayBldmVyeSAyXHJcbiAgICAgICBpZiAocm93W2ldID09IHJvd1tpKzFdKSB7XHJcbiAgICAgICAgcm93W2ldICo9IDJcclxuICAgICAgICByb3dbaSsxXT0gMFxyXG4gICAgICAgIHNjb3JlICs9IHJvd1tpXVxyXG4gICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgcm93ID0gZmlsdGVyWmVybyhyb3cpLy9bNCwyXVxyXG5cclxuLy9hZGQgemVybyBsaWtlIFs0LDIsMCwwXVxyXG53aGlsZSAocm93Lmxlbmd0aCA8IGNvbHVtbnMpIHtcclxuICAgIHJvdy5wdXNoKDApXHJcbn1cclxuXHJcbnJldHVybiByb3dcclxuXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzbGlkZUxlZnQoKXtcclxuICAgIGZvciAobGV0IHIgPSAwOyByIDwgcm93czsgcisrKSB7XHJcbiAgICAgICAgbGV0IHJvdyA9IGJvYXJkW3JdXHJcbiAgICAgICAgcm93ID0gc2xpZGUocm93KVxyXG4gICAgICAgIGJvYXJkW3JdID0gcm93XHJcblxyXG5cclxuICAgICAgICBmb3IgKGxldCBjID0gMCA7IGMgPCBjb2x1bW5zIDsgYysrKXtcclxuICAgICAgICAgICAgbGV0IHRpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyLnRvU3RyaW5nKCkgKyBcIi1cIiArIGMudG9TdHJpbmcoKSkgYXMgSFRNTERpdkVsZW1lbnRcclxuICAgICAgICAgICAgbGV0IG51bSA9IGJvYXJkW3JdW2NdXHJcbiAgICAgICAgICAgIGlmICh0aWxlICE9PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVRpbGUodGlsZSxudW0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzbGlkZVJpZ2h0KCl7XHJcbiAgICBmb3IgKGxldCByID0gMDsgciA8IHJvd3M7IHIrKykge1xyXG4gICAgICAgIGxldCByb3cgPSBib2FyZFtyXVxyXG4gICAgICAgIHJvdy5yZXZlcnNlKClcclxuICAgICAgICByb3cgPSBzbGlkZShyb3cpXHJcbiAgICAgICAgcm93LnJldmVyc2UoKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGJvYXJkW3JdID0gcm93XHJcblxyXG5cclxuICAgICAgICBmb3IgKGxldCBjID0gMCA7IGMgPCBjb2x1bW5zIDsgYysrKXtcclxuICAgICAgICAgICAgbGV0IHRpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyLnRvU3RyaW5nKCkgKyBcIi1cIiArIGMudG9TdHJpbmcoKSkgYXMgSFRNTERpdkVsZW1lbnRcclxuICAgICAgICAgICAgbGV0IG51bSA9IGJvYXJkW3JdW2NdXHJcbiAgICAgICAgICAgIGlmICh0aWxlICE9PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVRpbGUodGlsZSxudW0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzbGlkZVVwKCl7XHJcbiAgICBmb3IgKGxldCBjID0gMDsgYyA8IGNvbHVtbnM7IGMrKykge1xyXG4gICAgICAgIGxldCByb3cgPSBbIGJvYXJkWzBdW2NdLCBib2FyZFsxXVtjXSwgYm9hcmRbMl1bY10sIGJvYXJkWzNdW2NdIF1cclxuICAgICAgICByb3cgPSBzbGlkZShyb3cpXHJcbiAgICAgICAgYm9hcmRbMF1bY10gPSByb3dbMF1cclxuICAgICAgICBib2FyZFsxXVtjXSA9IHJvd1sxXVxyXG4gICAgICAgIGJvYXJkWzJdW2NdID0gcm93WzJdXHJcbiAgICAgICAgYm9hcmRbM11bY10gPSByb3dbM11cclxuXHJcbiAgICAgICAgZm9yIChsZXQgciA9IDAgOyByIDwgcm93cyA7IHIrKyl7XHJcbiAgICAgICAgICAgIGxldCB0aWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoci50b1N0cmluZygpICsgXCItXCIgKyBjLnRvU3RyaW5nKCkpIGFzIEhUTUxEaXZFbGVtZW50XHJcbiAgICAgICAgICAgIGxldCBudW0gPSBib2FyZFtyXVtjXVxyXG4gICAgICAgICAgICBpZiAodGlsZSAhPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVUaWxlKHRpbGUsbnVtKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBzbGlkZURvd24oKXtcclxuICAgIGZvciAobGV0IGMgPSAwOyBjIDwgY29sdW1uczsgYysrKSB7XHJcbiAgICAgICAgbGV0IHJvdyA9IFsgYm9hcmRbMF1bY10sIGJvYXJkWzFdW2NdLCBib2FyZFsyXVtjXSwgYm9hcmRbM11bY10gXVxyXG4gICAgICAgIHJvdy5yZXZlcnNlKClcclxuICAgICAgICByb3cgPSBzbGlkZShyb3cpXHJcbiAgICAgICAgcm93LnJldmVyc2UoKVxyXG5cclxuICAgICAgICBib2FyZFswXVtjXSA9IHJvd1swXVxyXG4gICAgICAgIGJvYXJkWzFdW2NdID0gcm93WzFdXHJcbiAgICAgICAgYm9hcmRbMl1bY10gPSByb3dbMl1cclxuICAgICAgICBib2FyZFszXVtjXSA9IHJvd1szXVxyXG5cclxuICAgICAgICBmb3IgKGxldCByID0gMCA7IHIgPCByb3dzIDsgcisrKXtcclxuICAgICAgICAgICAgbGV0IHRpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyLnRvU3RyaW5nKCkgKyBcIi1cIiArIGMudG9TdHJpbmcoKSkgYXMgSFRNTERpdkVsZW1lbnRcclxuICAgICAgICAgICAgbGV0IG51bSA9IGJvYXJkW3JdW2NdXHJcbiAgICAgICAgICAgIGlmICh0aWxlICE9PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVRpbGUodGlsZSxudW0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vL3Jlc2V0IFxyXG5mdW5jdGlvbiByZXNldEdhbWUoKSB7XHJcbiAgICAvLyBSZXNldCB0aGUgYm9hcmQsIHNjb3JlLCBhbmQgdXBkYXRlIHRoZSBVSVxyXG4gICAgYm9hcmQgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0sICgpID0+IEFycmF5KGNvbHVtbnMpLmZpbGwoMCkpO1xyXG4gICAgc2NvcmUgPSAwO1xyXG5cclxuICAgIGZvciAobGV0IHIgPSAwOyByIDwgcm93czsgcisrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCBjb2x1bW5zOyBjKyspIHtcclxuICAgICAgICAgICAgbGV0IHRpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyLnRvU3RyaW5nKCkgKyBcIi1cIiArIGMudG9TdHJpbmcoKSkgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRpbGUodGlsZSwgMCk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgbmV3IHRpbGVzIHRvIHRoZSBib2FyZFxyXG4gICAgc2V0VHdvKCk7XHJcbiAgICBzZXRUd28oKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIHNjb3JlIGRpc3BsYXlcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NvcmVcIikhLmlubmVyVGV4dCA9IHNjb3JlLnRvU3RyaW5nKCk7XHJcbn1cclxuXHJcbmNvbnN0IHJlc2V0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXBlYXRcIik7XHJcbnJlc2V0QnV0dG9uIS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcmVzZXRHYW1lKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vW3BvcHVwXVxyXG50eXBlIFBvcHVwID0gSFRNTEVsZW1lbnQgfCBudWxsO1xyXG5mdW5jdGlvbiBoaWRlKCkge1xyXG4gICAgY29uc3QgcG9wdXA6IFBvcHVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHVwJyk7XHJcbiAgICBpZiAocG9wdXApIHtcclxuICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBzaG93KCkge1xyXG4gICAgY29uc3QgcG9wdXA6IFBvcHVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHVwJyk7XHJcbiAgICBpZiAocG9wdXApIHtcclxuICAgICAgICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBjcm9zc0J1dHRvbjogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nyb3NzJyk7XHJcbmNyb3NzQnV0dG9uIS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGUpXHJcblxyXG5cclxuXHJcblxyXG5jb25zdCBpQnRuOiBIVE1MRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5mbycpXHJcbmlCdG4hLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvdylcclxuXHJcblxyXG5cclxuLy93aW4gbG9vc2UgXHJcbmZ1bmN0aW9uIGlzV2luKCk6IGJvb2xlYW4ge1xyXG4gICAgZm9yIChjb25zdCByb3cgb2YgYm9hcmQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IHRpbGUgb2Ygcm93KSB7XHJcbiAgICAgICAgICAgIGlmICh0aWxlID09PSAyMDQ4KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNMb3NzKCk6IGJvb2xlYW4ge1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUgYXJlIGFueSBlbXB0eSB0aWxlc1xyXG4gICAgaWYgKGhhc0VtcHR5VGlsZSgpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGZvciBhZGphY2VudCBtYXRjaGluZyB0aWxlcyBpbiByb3dzXHJcbiAgICBmb3IgKGxldCByID0gMDsgciA8IHJvd3M7IHIrKykge1xyXG4gICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgY29sdW1ucyAtIDE7IGMrKykge1xyXG4gICAgICAgICAgICBpZiAoYm9hcmRbcl1bY10gPT09IGJvYXJkW3JdW2MgKyAxXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGZvciBhZGphY2VudCBtYXRjaGluZyB0aWxlcyBpbiBjb2x1bW5zXHJcbiAgICBmb3IgKGxldCBjID0gMDsgYyA8IGNvbHVtbnM7IGMrKykge1xyXG4gICAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgcm93cyAtIDE7IHIrKykge1xyXG4gICAgICAgICAgICBpZiAoYm9hcmRbcl1bY10gPT09IGJvYXJkW3IgKyAxXVtjXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoZSkgPT4ge1xyXG4gICAgaWYgKGUuY29kZSA9PSBcIkFycm93TGVmdFwiKSB7XHJcbiAgICAgICAgc2xpZGVMZWZ0KCk7XHJcbiAgICAgICAgc2V0VHdvKCk7XHJcbiAgICAgICAgY2hlY2tXaW5Mb3NzKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChlLmNvZGUgPT0gXCJBcnJvd1JpZ2h0XCIpIHtcclxuICAgICAgICBzbGlkZVJpZ2h0KCk7XHJcbiAgICAgICAgc2V0VHdvKCk7XHJcbiAgICAgICAgY2hlY2tXaW5Mb3NzKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChlLmNvZGUgPT0gXCJBcnJvd1VwXCIpIHtcclxuICAgICAgICBzbGlkZVVwKCk7XHJcbiAgICAgICAgc2V0VHdvKCk7XHJcbiAgICAgICAgY2hlY2tXaW5Mb3NzKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChlLmNvZGUgPT0gXCJBcnJvd0Rvd25cIikge1xyXG4gICAgICAgIHNsaWRlRG93bigpO1xyXG4gICAgICAgIHNldFR3bygpO1xyXG4gICAgICAgIGNoZWNrV2luTG9zcygpO1xyXG4gICAgfVxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY29yZVwiKSEuaW5uZXJUZXh0ID0gc2NvcmUudG9TdHJpbmcoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjaGVja1dpbkxvc3MoKSB7XHJcbiAgICBpZiAoaXNXaW4oKSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ29uZ3JhdHVsYXRpb25zISBZb3UndmUgd29uIVwiKTtcclxuICAgICAgICBjb25zdCBwb3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvcHVwLWZvci13aW5cIilcclxuICAgICAgICBwb3AhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbiAoKXtcclxucG9wIS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzTG9zcygpKSB7XHJcbiAgICAgICAgYWxlcnQoXCJHYW1lIG92ZXIhIFlvdSd2ZSBsb3N0LlwiKTtcclxuICAgICAgICBjb25zdCBsb29zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9wdXAtZm9yLWxvb3NlXCIpXHJcbiAgICAgICAgbG9vc2UhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbiAoKXtcclxuICAgICAgICAgICAgbG9vc2UhLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIilcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/app.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/app.ts"]();
/******/ 	
/******/ })()
;